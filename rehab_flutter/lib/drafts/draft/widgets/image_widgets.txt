// image_widgets.dart
import 'dart:typed_data';
import 'dart:ui';
import 'package:flutter/services.dart' show rootBundle;
import 'dart:async';
import 'package:image/image.dart' as img;

class ImageWidgets {
  String imagePath;

  ImageWidgets({required this.imagePath});

  // Load an image from the assets
  Future<img.Image?> loadImage() async {
    try {
      ByteData data = await rootBundle.load(imagePath);
      Uint8List bytes = data.buffer.asUint8List();
      return img.decodeImage(bytes);
    } catch (e) {
      print("Failed to load image: $e");
      return null;
    }
  }

  // Example method to extract a color from an image at a given position
  // This is a placeholder showing where you might add such functionality.
  Color getColorAtPosition(img.Image image, Offset position) {
    int pixelColor =
        image.getPixelSafe(position.dx.toInt(), position.dy.toInt());
    return Color(pixelColor);
  }
}
